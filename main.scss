@import 'o-brand/main';
@import 'o-buttons/main';
@import 'o-icons/main';
@import 'o-grid/main';
@import 'o-normalise/main';
@import 'o-typography/main';
@import 'o-visual-effects/main';

@import 'src/scss/brand';
@import 'src/scss/base';
@import 'src/scss/variables';
@import 'src/scss/top';
@import 'src/scss/theme';
@import 'src/scss/primary-nav';
@import 'src/scss/secondary-nav';


/// Outputs all features and styles available to o-header-services
/// @param {List} $opts ['primary-nav', 'secondary-nav', 'bleed', 'b2b', 'b2c']
/// @param {String} $logo [default to ft-logo depending on brand (pink or white)]
/// @access public
@mixin oHeaderServices($opts: (
	'types': ('primary-nav', 'secondary-nav', 'bleed', 'b2b', 'b2c'),
	'logo': $o-header-services-default-logo
	)) {
		$types: map-get($opts, 'types');
		$primary-nav: index($types, 'primary-nav');
		$secondary-nav: index($types, 'secondary-nav');
		$bleed: index($types, 'bleed');
		$b2b: index($types, 'b2b');
		$b2c: index($types, 'b2c');
	/// Base styles for a header
	@include _oHeaderServicesBase($bleed);

	/// Required because there would be no header without the title
	/// if other features aren't added.
	@include _oHeaderServicesTop(map-get($opts, 'logo'));

	@if $primary-nav {
		@include _oHeaderServicesPrimaryNav;
	}

	@if $secondary-nav {
		@include _oHeaderServicesSecondaryNav;
	}

	@if $b2b and _oHeaderSupports('b2b') {
		@include _oHeaderServicesTheme($theme: 'b2b');
	}

	@if $b2c and _oHeaderSupports('b2b') {
		@include _oHeaderServicesTheme($theme: 'b2c');
	}
}

@if $o-header-services-is-silent == false {
	@include oHeaderServices();

	// Set to silent again to avoid being output twice
	$o-header-services-is-silent: true !global;
}
